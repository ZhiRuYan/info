"use strict";angular.module("infoApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){d.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",d.defaults.withCredentials=!0,a.state("main",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("about",{url:"/about.html",templateUrl:"views/about.html",controller:"AboutCtrl"}).state("login",{url:"/login.html",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("register",{url:"/register.html",templateUrl:"views/register.html",controller:"RegisterCtrl"}).state("layout",{url:"/layout",templateUrl:"views/layout.html",controller:"LayoutCtrl"}).state("layout.myinfo",{url:"/myinfo.html",templateUrl:"views/myinfo.html",controller:"MyinfoCtrl"}).state("layout.maintain",{url:"/maintain.html",templateUrl:"views/maintain.html",controller:"MaintainCtrl"}).state("layout.tasklist",{url:"/tasklist.html",templateUrl:"views/tasklist.html",controller:"TasklistCtrl"}),b.otherwise("/")}]),angular.module("infoApp").controller("MainCtrl",["$scope","config","dataservice",function(a,b,c){c.testApi().then(function(b){a.test=b.data.testData})}]),angular.module("infoApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("infoApp").service("dataservice",["$http","config",function(a,b){var c=function(a){return b.apiRoot+"api/"+a};this.testApi=function(){return a.post(c("main"))},this.register=function(b){return a.post(c("register"),b)},this.tryLogin=function(b){return a.post(c("tryLogin"),b)},this.logout=function(){return a.post(c("logout"))},this.initPage=function(){return a.post(c("initPage"))},this.getMyinfo=function(b){return a.post(c("getMyinfo"),b)},this.changeMyinfo=function(b){return a.post(c("changeMyinfo"),b)},this.createGroup=function(b){return a.post(c("createGroup"),b)},this.getGroupList=function(){return a.post(c("getGroupList"))},this.releaseGroup=function(b){return a.post(c("releaseGroup"),b)},this.joinGroup=function(b){return a.post(c("joinGroup"),b)},this.exitGroup=function(b){return a.post(c("exitGroup"),b)},this.getMemberList=function(b){return a.post(c("getMemberList"),b)},this.removeMember=function(b){return a.post(c("removeMember"),b)},this.createTask=function(b){return a.post(c("createTask"),b)},this.getTasksList=function(b){return a.post(c("getTasksList"),b)},this.removeTask=function(b){return a.post(c("removeTask"),b)},this.fillInTask=function(b){return a.post(c("fillInTask"),b)}}]),angular.module("infoApp").constant("config",function(){var a="dev",b={dev:{apiRoot:"http://127.0.0.1:3000/"},prod:{apiRoot:""}};return b[a]}()),angular.module("infoApp").controller("LoginCtrl",["$scope","dataservice","$location","uiService","$state",function(a,b,c,d,e){a.loginInfo={user:"",password:""},a.passCheck=!1,a.loginState="登录",a.wrongInfo="";var f=a.loginInfo;a.tryLogin=function(){$(".loginForm").removeClass("shake zoomInDown"),b.tryLogin(f).then(function(b){a.wrongInfo=b.data.result,"登录成功"==b.data.result?e.go("layout.myinfo"):(d.showError("密码错误，请重新输入"),$(".loginForm").addClass("shake"))})["catch"](function(a){console.log(a)})},a.toRegister=function(){e.go("register")}}]),angular.module("infoApp").controller("RegisterCtrl",["$scope","dataservice","$location","uiService","$state",function(a,b,c,d,e){a.user={username:"",email:"",pass:"",passRepeat:""},a.addUser=function(){$(".sign-up").removeClass("shake zoomInUp"),b.register(a.user).then(function(a){"用户已存在"==a.data.result?(d.showError("用户已存在"),$(".sign-up").addClass("shake")):"操作成功"==a.data.result?(d.showSuccess("操作成功"),e.go("login")):d.showWarning("系统错误")})["catch"](function(a){console.log(a)})},a.toLogin=function(){c.path("login.html")},a.isExist=!1}]),angular.module("infoApp").controller("LayoutCtrl",["$scope","dataservice","$location","$state","$rootScope",function(a,b,c,d,e){a.logout=function(){b.logout().then(function(a){"退出成功"==a.data.state&&d.go("login")})},a.changeState=function(a){switch(a){case"myinfo":d.go("layout.myinfo");break;case"maintain":d.go("layout.maintain");break;case"tasklist":d.go("layout.tasklist");break;default:d.go("layout.myinfo")}},b.initPage().then(function(a){e.username=a.data})}]),angular.module("infoApp").service("uiService",["$window",function(a){toastr.options={closeButton:!1,debug:!1,progressBar:!0,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"2000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},this.showError=function(a){toastr.error(a)},this.showInfo=function(a){toastr.info(a)},this.showSuccess=function(a){toastr.success(a)},this.showWarning=function(a){toastr.warning(a)},this.bootbox=bootbox,this.bootbox.setLocale("zh_CN")}]),angular.module("infoApp").controller("MyinfoCtrl",["$scope","dataservice","$location","uiService","$state",function(a,b,c,d,e){b.getMyinfo().then(function(b){a.info=b.data}),a.saveChange=function(){var c={name:a.info.name,email:a.info.email};b.changeMyinfo(c).then(function(a){"修改成功"==a.data.result?d.showSuccess(a.data.result):d.showError(a.data.result)})}}]),angular.module("infoApp").controller("MaintainCtrl",["$scope","dataservice","$location","uiService","$state","$uibModal","$rootScope",function(a,b,c,d,e,f,g){function h(a){var c={groupID:a};b.releaseGroup(c).then(function(a){j(),d.showSuccess(a.data.result)})["catch"](function(a){d.showError("系统错误")})}function i(a){var c={groupID:a};b.exitGroup(c).then(function(a){j(),d.showSuccess(a.data.result)})["catch"](function(a){d.showError("系统错误")})}function j(){b.getGroupList().then(function(b){a.groupList=b.data})}a.groupList=[],a.theFunction=function(a,b){var c="",e="";switch(a){case"createGroup":c="newgroup",e="NewgroupCtrl";break;case"joinGroup":c="joingroup",e="JoingroupCtrl";break;case"createTask":c="newtask",e="NewtaskCtrl";break;case"tasksList":c="",e="";break;case"membersList":c="membersList",e="MemberslistCtrl";break;case"changeInfo":c="",e=""}var g=f.open({templateUrl:"views/"+c+".html",controller:e,size:"md",resolve:{entity:function(){return{index:a,data:b}}}});g.result.then(function(a){j(),d.showSuccess(a)},function(a){"已取消"!=a&&"backdrop click"!=a&&d.showError(a)})},a.whichConfirm=function(a,b){var c=[];switch(a){case 1:c="确定解散该分组？";break;case 2:c="确定退出该分组？";break;default:return}d.bootbox.confirm(c,function(c){c&&(1==a?h(b):2==a&&i(b))})},j()}]),angular.module("infoApp").controller("NewtaskCtrl",["$scope","$uibModalInstance","uiService","entity","dataservice",function(a,b,c,d,e){a.entity=d,a.input={taskName:"",taskDes:"",taskCreator:"",belong:a.entity.data[0],details:[]},a.addOptions=function(){var b={option:""};a.input.details.push(b)},a.actions={submit:function(){a.input.taskCreator=a.entity.data[1],e.createTask(a.input).then(function(a){"操作成功"==a.data.result?b.close(a.data.result):b.dismiss(a.data.result)})["catch"](function(a){console.log(a),b.dismiss("系统错误")})},cancel:function(){b.dismiss("已取消")}}}]),angular.module("infoApp").controller("NewgroupCtrl",["$scope","$uibModalInstance","uiService","dataservice",function(a,b,c,d){a.input={groupName:"",groupDes:"",groupPass:""},a.actions={submit:function(){d.createGroup(a.input).then(function(a){"组群创建成功"==a.data.result?b.close(a.data.result):b.dismiss(a.data.result)})["catch"](function(a){b.dismiss("系统错误")})},cancel:function(){b.dismiss("已取消")}}}]),angular.module("infoApp").controller("MemberslistCtrl",["$scope","$uibModalInstance","uiService","dataservice","entity",function(a,b,c,d,e){function f(){d.getMemberList(a.entity).then(function(b){b.data instanceof Array?a.memberList=b.data:c.showError(b.data.result)})["catch"](function(a){c.showError("系统错误")})}a.entity=e,a.removeMember=function(b){var e={name:b,groupID:a.entity.data};d.removeMember(e).then(function(a){"删除成功"==a.data.result?(f(),c.showSuccess(a.data.result)):c.showError(a.data.result)})["catch"](function(a){console.log(a)})},a.actions={submit:function(){b.dismiss("已取消")},cancel:function(){b.dismiss("已取消")}},f()}]),angular.module("infoApp").controller("JoingroupCtrl",["$scope","$uibModalInstance","uiService","dataservice",function(a,b,c,d){a.input={groupID:"",groupPass:""},a.actions={submit:function(){d.joinGroup(a.input).then(function(a){"加入组群成功"==a.data.result?b.close(a.data.result):b.dismiss(a.data.result)})["catch"](function(a){b.dismiss("系统错误")})},cancel:function(){b.dismiss("已取消")}}}]),angular.module("infoApp").controller("TasklistCtrl",["$scope","dataservice","$location","$state","$rootScope","uiService","$uibModal",function(a,b,c,d,e,f,g){function h(){b.getTasksList().then(function(b){b.data.length<1&&f.showError("暂无数据"),a.tasksList=b.data})}a.deleteTask=function(a){f.bootbox.confirm("确认删除该任务？",function(c){if(c){var d={taskName:a};b.removeTask(d).then(function(a){"操作成功"==a.data.result?f.showSuccess(a.data.result):f.showError(a.data.result),h()})["catch"](function(a){f.showError("系统错误")})}})},a.editTask=function(a,b){var c="",d="";a?(c="showResult",d="ShowresultCtrl"):(c="fillin",d="FillinCtrl");var e=g.open({templateUrl:"views/"+c+".html",controller:d,size:"md",resolve:{entity:function(){return{data:b}}}});e.result.then(function(a){h(),f.showSuccess(a)},function(a){"已取消"!=a&&"backdrop click"!=a&&f.showError(a)})},h()}]),angular.module("infoApp").controller("FillinCtrl",["$scope","$uibModalInstance","uiService","dataservice","entity",function(a,b,c,d,e){a.options=e.data,a.isCreator=e.isCreator,a.actions={submit:function(){console.log(a.options.details);var c={taskName:a.options.taskName,details:a.options.details};d.fillInTask(c).then(function(a){"提交成功"==a.data.result?b.close(a.data.result):b.dismiss(a.data.result)})["catch"](function(a){b.dismiss("系统错误")})},cancel:function(){b.dismiss("已取消")}}}]),angular.module("infoApp").controller("ShowresultCtrl",["$scope","$uibModalInstance","uiService","dataservice","entity",function(a,b,c,d,e){a.entity=e.data,a.listData=e.data.summary,console.log(e),a.actions={cancel:function(){b.dismiss("已取消")}}}]),angular.module("infoApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/fillin.html",'<div class="modal-header"> <button type="button" class="close" ng-click="actions.cancel()"></button> <h4 class="modal-title">填写</h4> </div> <div class="modal-body"> <form name="fillIn"> <form-body> <div class="row"> <div class="col-md-8" ng-repeat="o in options.details"> <label class="control-label">{{o.option}}</label> <input class="form-control" ng-model="o.value" placeholder="请输入{{o.option}}" required> </div> </div> </form-body> </form> </div> <div class="modal-footer"> <button class="btn green" type="button" ng-click="actions.submit()" ng-disabled="fillIn.$invalid">确定 </button> <button class="btn default" type="button" ng-click="actions.cancel()">取消</button> </div>'),a.put("views/joingroup.html",'<div class="modal-header"> <button type="button" class="close" ng-click="actions.cancel()"></button> <h4 class="modal-title">加入组群</h4> </div> <div class="modal-body"> <form name="joinGroup"> <form-body> <div class="row"> <div class="col-md-8"> <label class="control-label">组群ID</label> <input class="form-control" ng-model="input.groupID" placeholder="请输入组群ID" required> </div> <div class="col-md-8"> <label class="control-label">组群口令</label> <input class="form-control" ng-model="input.groupPass" placeholder="请输入组群口令" required> </div> </div> </form-body> </form> </div> <div class="modal-footer"> <button class="btn green" type="button" ng-click="actions.submit()" ng-disabled="joinGroup.$invalid">确定 </button> <button class="btn default" type="button" ng-click="actions.cancel()">取消</button> </div>'),a.put("views/layout.html",'<section class="layout-main"> <div class="user-info"> <div class="userInfo-basic"> <p class="userInfoBasic-p">欢迎回来 {{username}}</p> </div> <div class="userInfoBasic-button"> <button class="btn btn-primary" ng-click="logout()">退出登录</button> </div> </div> <div style="width: 100%;height: 65px"></div> <div class="layout-nav"> <ul class="layoutNav-ul"> <!--<li class="layoutNav-li" ng-click="changeState(\'\')">--> <!--<a href="javascript:void(0)"><i class="fa fa-paper-plane layoutNav-i"></i>待办事项</a>--> <!--</li>--> <li class="layoutNav-li" ng-click="changeState(\'maintain\')"> <a href="javascript:void(0)"><i class="fa fa-wrench layoutNav-i"></i>管理群组</a> </li> <li class="layoutNav-li" ng-click="changeState(\'tasklist\')"> <a href="javascript:void(0)"><i class="fa fa-list layoutNav-i"></i>任务列表</a> </li> <li class="layoutNav-li" ng-click="changeState(\'myinfo\')"> <a href="javascript:void(0)"><i class="fa fa-user layoutNav-i"></i>个人信息</a> </li> </ul> </div> <div class="layout-content"> <div ui-view></div> </div> <div class="layout-footer"> <div class="layout-footer-inner">BY: YAN ZHI RU</div> </div> </section>'),a.put("views/login.html",'<section class="login-section"> <form name="loginForm" class="loginForm animated zoomInDown" novalidate> <div class="form-group"> <label for="user">用户名</label> <input type="text" name="user" id="user" class="form-control" ng-model="loginInfo.user" placeholder="请输入您的用户名" required> </div> <div class="form-group"> <label for="password">密码</label> <input type="password" name="password" id="password" class="form-control" ng-model="loginInfo.password" placeholder="请输入您的密码" required> </div> <button type="submit" class="btn btn-primary loginForm-button" ng-click="tryLogin()" ng-disabled="loginForm.$invalid">{{loginState}}</button> <button class="btn btn-success signIn-button" ng-click="toRegister()">注册</button> <span ng-show="passCheck" class="help-block loginForm-warning">{{wrongInfo}}</span> </form> </section>'),a.put("views/main.html",'<section class="html-main"> 首页 <ul> <li><a ui-sref="register">注册</a></li> <li><a ui-sref="login">登录</a></li> <li>关于</li> </ul> {{test}} {{con}} </section>'),a.put("views/maintain.html",'<section class="maintain-section col-md-12"> <div class="maintain-main"> <div class="maintain-top"> <div class="maintain-title"> <i class="fa fa-gears"></i> <span class="maintain-title-span">管理群组</span> </div> <div class="maintain-button"> <button class="btn btn-success" ng-click="theFunction(\'createGroup\')"> <i class="fa fa-plus"></i> 新建群组 </button> <button class="btn btn-success" ng-click="theFunction(\'joinGroup\')"> <i class="fa fa-plus"></i> 加入群组 </button> </div> </div> <div> <div class="maintain-table"> <table class="table table-bordered"> <thead> <tr> <th width="30" class="maintain-th">组群ID</th> <th width="30" class="maintain-th">组群昵称</th> <th width="30" class="maintain-th">创建者</th> <th width="60" class="maintain-th">组群描述</th> </tr> </thead> <tbody> <tr ng-repeat-start="o in groupList"> <td class="maintain-td"> {{o.groupID}} </td> <td class="maintain-td"> {{o.name}} </td> <td class="maintain-td"> {{o.creator}} </td> <td class="maintain-td"> {{o.des}} </td> </tr> <tr ng-repeat-end> <td class="text-right" colspan="6"> <button class="btn default btn-xs purple-stripe" ng-click="theFunction(\'createTask\',[o.groupID,o.creator])" ng-if="username==o.creator"> <i class="fa fa-edit"></i> 新建任务 </button> <!--<button class="btn default btn-xs purple-stripe" ng-click="theFunction(\'tasksList\')" ng-if="username==o.creator">--> <!--<i class="fa fa-edit"></i> 任务列表--> <!--</button>--> <button class="btn default btn-xs purple-stripe" ng-click="theFunction(\'membersList\',o.groupID)" ng-if="username==o.creator"> <i class="fa fa-edit"></i> 成员列表 </button> <!--<button class="btn default btn-xs purple-stripe" ng-click="theFunction(\'changeInfo\')" ng-if="username==o.creator">--> <!--<i class="fa fa-edit"></i> 修改--> <!--</button>--> <button class="btn default btn-xs purple-stripe" ng-click="whichConfirm(1,o.groupID)" ng-if="username==o.creator"> <i class="fa fa-trash-o"></i> 解散 </button> <button class="btn default btn-xs purple-stripe" ng-click="whichConfirm(2,o.groupID)" ng-if="username!=o.creator"> <i class="fa fa-close"></i> 退出 </button> </td> </tr></tbody> </table> </div> </div> </div> </section>'),a.put("views/memberslist.html",'<div class="modal-header"> <button type="button" class="close" ng-click="actions.cancel()"></button> <h4 class="modal-title">成员列表</h4> </div> <div class="modal-body"> <div class="panel-collapse collapse in"> <ul ng-repeat="o in memberList"> <li class="member-item"> <div class="member-namme"> <h6 class="uppercase"> {{o}} </h6> </div> <div class="member-action-del" ng-click="removeMember(o)"> <a class="" href="javascript:;"> <i class="fa fa-close"></i> </a> </div> </li> </ul> </div> </div> <div class="modal-footer"> <button class="btn red" type="button" ng-click="actions.cancel()">关闭 </button> </div>'),a.put("views/myinfo.html",'<section class="maintain-section col-md-12"> <div class="maintain-main"> <div class="maintain-top"> <div class="maintain-title"> <i class="fa fa-user"></i> <span class="maintain-title-span">个人信息</span> </div> <div class="maintain-button"> <button class="btn default btn-md purple-stripe" ng-click="saveChange()"> <i class="fa fa-save"></i> 保存 </button> </div> </div> <div> <div class="maintain-table"> <form class="form-horizontal" role="form"> <div class="portlet box blue" style="border:1px solid #45B6AF"> <div class="portlet-title" style="background:#45B6AF"> <div class="caption"> 个人信息 </div> </div> <div class="portlet-body"> <div class="form-group"> <label class="col-md-8" style="color:#000">姓名</label> <div class="col-md-8"> <input class="form-control" id="fullname" type="text" ng-model="info.name" disabled> </div> <label class="col-md-8" style="color:#000" for="name">Email</label> <div class="col-md-8"> <input class="form-control" id="name" type="text" ng-model="info.email"> </div> </div> </div> </div> </form> </div> </div> </div> </section>'),a.put("views/newgroup.html",'<div class="modal-header"> <button type="button" class="close" ng-click="actions.cancel()"></button> <h4 class="modal-title">新建组群</h4> </div> <div class="modal-body"> <form name="createGroup"> <form-body> <div class="row"> <div class="col-md-8"> <label class="control-label">组群名称</label> <input class="form-control" ng-model="input.groupName" placeholder="请输入组群名称" required> </div> <div class="col-md-8"> <label class="control-label">组群描述</label> <input class="form-control" ng-model="input.groupDes" placeholder="请输入组群描述" required> </div> <div class="col-md-8"> <label class="control-label">组群口令</label> <input class="form-control" ng-model="input.groupPass" placeholder="请设置组群口令" required> </div> </div> </form-body> </form> </div> <div class="modal-footer"> <button class="btn green" type="button" ng-click="actions.submit()" ng-disabled="createGroup.$invalid">确定 </button> <button class="btn default" type="button" ng-click="actions.cancel()">取消</button> </div>'),a.put("views/newtask.html",'<div class="modal-header"> <button type="button" class="close" ng-click="actions.cancel()"></button> <h4 class="modal-title">新建任务</h4> </div> <div class="modal-body"> <form name="createTask"> <form-body> <div class="row"> <div class="col-md-8"> <label class="control-label">任务名称</label> <input class="form-control" ng-model="input.taskName" placeholder="请输入任务名称" required> </div> <div class="col-md-8"> <label class="control-label">任务描述</label> <input class="form-control" ng-model="input.taskDes" placeholder="请输入任务描述" required> </div> <div ng-repeat="o in input.details"> <div class="col-md-8 newtask-options"> <input class="form-control" ng-model="o.option" placeholder="请输入选项名称" required> </div> </div> <div class="col-md-8 newtask-button"> <button class="btn btn-success" ng-click="addOptions()"> <i class="fa fa-plus"></i>添加选项 </button> </div> </div> </form-body> </form> </div> <div class="modal-footer"> <button class="btn green" type="button" ng-click="actions.submit()" ng-disabled="createTask.$invalid">确定 </button> <button class="btn default" type="button" ng-click="actions.cancel()">取消</button> </div>'),a.put("views/register.html",'<section class="register-section"> <div class="sign-up animated zoomInUp"> <form name="signUp" novalidate> <div class="form-group" ng-class="{ \'has-error\' : signUp.username.$invalid && !signUp.username.$pristine }"> <label for="username">用户名</label> <input type="text" name="username" id="username" class="form-control" ng-model="user.username" ng-minlength="3" ng-maxlength="15" placeholder="请输入您的用户名" required> <span ng-show="signUp.username.$dirty&&signUp.username.$error.required" class="help-block">*必填</span> <span ng-show="signUp.username.$error.minlength" class="help-block">*用户名太短</span> <span ng-show="signUp.username.$error.maxlength" class="help-block">*用户名太长</span> <span ng-show="signUp.username.isExist" class="help-block">*该用户已存在</span> </div> <div class="form-group" ng-class="{ \'has-error\' : signUp.email.$invalid && !signUp.email.$pristine }"> <label for="email">邮箱</label> <input type="email" name="email" id="email" class="form-control" ng-model="user.email" placeholder="请输入您的邮箱" required> <span ng-show="signUp.email.$dirty&&signUp.email.$error.required" class="help-block">*请输入合法的邮箱</span> </div> <div class="form-group" ng-class="{\'has-error\' : signUp.pass.$invalid && !signUp.pass.$pristine}"> <label for="pass">密码</label> <input type="password" name="pass" id="pass" class="form-control" ng-model="user.pass" placeholder="请设置您的密码" ng-minlength="6" ng-maxlength="20" required> <span ng-show="signUp.pass.$invalid&&signUp.pass.$error.minlength" class="help-block">*密码长度过短</span> <span ng-show="signUp.pass.$invalid&&signUp.pass.$error.maxlength" class="help-block">*密码长度过长</span> </div> <div class="form-group" ng-class="{\'has-error\' : (user.pass!=user.passRepeat) && !signUp.passRepeat.$pristine}"> <label for="pass">再次输入密码</label> <input type="password" name="passRepeat" id="passRepeat" class="form-control" ng-model="user.passRepeat" placeholder="请再输一遍密码" required> <span ng-show="(user.pass!=user.passRepeat)&&!signUp.passRepeat.$pristine" class="help-block">*两次输入密码不一致</span> </div> <button type="submit" class="btn btn-primary signUp-submit" ng-disabled="signUp.$invalid||(user.pass!=user.passRepeat)" ng-click="addUser()">注册</button> <button class="btn btn-success signUp-login" ng-click="toLogin()">登录</button> </form> </div> </section>'),a.put("views/showResult.html",'<div class="modal-header"> <button type="button" class="close" ng-click="actions.cancel()"></button> <h4 class="modal-title">查看</h4> </div> <div class="modal-body"> <div class="col-md-12" style="padding: 0" ng-if="listData.length>0"> <a class="btn btn-success showresult-button" ng-href="{{\'http://127.0.0.1:3000/api/generateExcle/\'+entity.taskName}}" target="_blank"> <i class="fa fa-plus"></i> 导出为Excle </a> </div> <table class="table table-bordered"> <thead> <tr> <th class="showresult-th" ng-repeat="(key,value) in listData[0]">{{key}}</th> </tr> </thead> <tbody> <tr ng-repeat="o in listData"> <td class="maintain-td" ng-repeat="(key,value) in o"> {{value}} </td> </tr> </tbody> </table> </div> <div class="modal-footer"> <button class="btn red" type="button" ng-click="actions.cancel()">关闭 </button> </div>'),a.put("views/tasklist.html",'<section class="tasklist-section"> <table id="tasklist" class="tasklist-table"> <thead class="tasklist-thead"> <tr class="tasklist-thead-tr"> <th>任务名称</th> <th>任务描述</th> <th>所属分组</th> <th>创建者</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat=" o in tasksList"> <td>{{o.taskName}}</td> <td>{{o.taskDes}}</td> <td>{{o.belong}}</td> <td>{{o.taskCreator}}</td> <td><a class="tasksList-edit" href="javascript:void(0)" ng-click="editTask(o.taskCreator == username,o)">{{o.taskCreator == username?\'查看\':\'编辑\'}}</a><a href="javascript:void(0)" class="tasksList-del" ng-click="deleteTask(o.taskName)" ng-if="o.taskCreator == username">/删除</a></td> </tr> </tbody> </table> </section>')}]);